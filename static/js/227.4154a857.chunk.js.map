{"version":3,"file":"static/js/227.4154a857.chunk.js","mappings":"2MAkEA,UA7DmB,WAAO,IAAD,UACvB,GAAsCA,EAAAA,EAAAA,UAAS,IAA/C,eAAOC,EAAP,KAAoBC,EAApB,KACA,GAA0BF,EAAAA,EAAAA,UAAS,IAAnC,eAAOG,EAAP,KAAcC,EAAd,KAEMC,GAAWC,EAAAA,EAAAA,MAEjB,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAmCA,OAtBAC,EAAAA,EAAAA,YAAU,WACR,IAAIC,EAAQH,EAAaI,IAAI,SACzBD,IACFE,EAAAA,EAAAA,IAnBQ,mCAmBYF,GACjBG,MAAK,SAAUC,GAEdX,EAASW,GACTC,QAAQC,IAAIF,MAEbG,OAAM,SAAUC,GAEfH,QAAQC,IAAIE,QAGjB,CAACX,KAEJE,EAAAA,EAAAA,YAAU,WAAO,IAAD,MACL,OAALP,QAAK,IAALA,GAAA,UAAAA,EAAOiB,YAAP,UAAaC,SAAW,OAAClB,QAAD,IAACA,GAAD,UAACA,EAAOiB,YAAR,iBAAC,EAAaC,eAAd,OAAC,EAAsBC,SAAUrB,GAC3DI,EAAS,IAAK,CAAEkB,SAAS,MAE1B,QAACpB,QAAD,IAACA,GAAD,UAACA,EAAOiB,YAAR,aAAC,EAAaC,QAAShB,EAAUJ,KAGlC,4BACE,kBAAMuB,SA/Be,SAAAC,GACvBA,EAAEC,iBACEzB,GACFQ,EAAgB,CAAEE,MAAOV,KA4BzB,WACE,uCACA,kBAAO0B,SArCU,SAAAF,GACrBvB,EAAeuB,EAAEG,OAAOC,MAAMC,YAqC1B,2CAEF,wBACoC,KAA5B,OAAL3B,QAAK,IAALA,GAAA,UAAAA,EAAOiB,YAAP,mBAAaC,eAAb,eAAsBC,UAAtB,UACCnB,EAAMiB,YADP,iBACC,EAAYC,eADb,aACC,EAAqBU,KAAI,SAAA5B,GAAK,OAC5B,yBACE,SAAC,KAAD,CAAM6B,GAAE,kBAAa7B,EAAM8B,IAA3B,SACG9B,EAAM+B,OAAS/B,EAAMgC,QAFjBhC,EAAM8B,e,6KCtDdG,EAAc,SAAAC,GACzB,OAAOC,IAAAA,IAAA,gEACoDD,EADpD,4BAKIxB,EAAiB,SAACwB,EAAK1B,GAClC,OAAO2B,IAAAA,IAAA,4DACgDD,EADhD,kBAC6D1B,EAD7D,gDAKI4B,EAAkB,SAACC,EAAUH,GACxC,OAAOC,IAAAA,IAAA,6CACiCE,EADjC,oBACqDH,EADrD,4BAKII,EAAU,SAACC,EAAcL,GACpC,OAAOC,IAAAA,IAAA,6CACiCI,EADjC,4BACiEL,EADjE,4BAKIM,EAAS,SAACC,EAAaP,GAClC,OAAOC,IAAAA,IAAA,6CACiCM,EADjC,4BACgEP,EADhE","sources":["Pages/MoviesPage.jsx","services/index.js"],"sourcesContent":["import React from 'react';\nimport { useEffect, useState } from 'react';\nimport { Link, useSearchParams, useNavigate } from 'react-router-dom';\nimport { getSearchFilms } from '../services';\n\nconst MoviesPage = () => {\n  const [searchFilms, setSearchFilms] = useState('');\n  const [films, setFilms] = useState([]);\n  const API = '70fc5b973179caa818ae6622551a44d1';\n  const navigate = useNavigate();\n\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  const handleSetFilms = e => {\n    setSearchFilms(e.target.value.trim());\n  };\n\n  const handleSearchFilm = e => {\n    e.preventDefault();\n    if (searchFilms) {\n      setSearchParams({ query: searchFilms });\n    }\n  };\n\n  useEffect(() => {\n    let query = searchParams.get('query');\n    if (query) {\n      getSearchFilms(API, query)\n        .then(function (response) {\n          // handle success\n          setFilms(response);\n          console.log(response);\n        })\n        .catch(function (error) {\n          // handle error\n          console.log(error);\n        });\n    }\n  }, [searchParams]);\n\n  useEffect(() => {\n    if (films?.data?.results && !films?.data?.results?.length && searchFilms) {\n      navigate('/', { replace: true });\n    }\n  }, [films?.data?.results, navigate, searchFilms]);\n\n  return (\n    <div>\n      <form onSubmit={handleSearchFilm}>\n        <p>MoviesPage</p>\n        <input onChange={handleSetFilms} />\n        <button>search</button>\n      </form>\n      <ul>\n        {films?.data?.results?.length !== 0 &&\n          films.data?.results?.map(films => (\n            <li key={films.id}>\n              <Link to={`/movies/${films.id}`}>\n                {films.title || films.name}\n              </Link>\n            </li>\n          ))}\n      </ul>\n    </div>\n  );\n};\nexport default MoviesPage;\n","import { default as axios } from 'axios';\n\nexport const getDayFilms = API => {\n  return axios.get(\n    `https://api.themoviedb.org/3/trending/all/day?api_key=${API}&language=en-US&page=1`\n  );\n};\n\nexport const getSearchFilms = (API, query) => {\n  return axios.get(\n    `https://api.themoviedb.org/3/search/movie?api_key=${API}&query=${query}&language=en-US&page=1&include_adult=false`\n  );\n};\n\nexport const getMovieDetails = (paramsId, API) => {\n  return axios.get(\n    `https://api.themoviedb.org/3/movie/${paramsId}?api_key=${API}&language=en-US&page=1`\n  );\n};\n\nexport const getCast = (paramsCastId, API) => {\n  return axios.get(\n    `https://api.themoviedb.org/3/movie/${paramsCastId}/credits?api_key=${API}&language=en-US&page=1`\n  );\n};\n\nexport const getRew = (paramsRewId, API) => {\n  return axios.get(\n    `https://api.themoviedb.org/3/movie/${paramsRewId}/reviews?api_key=${API}&language=en-US&page=1`\n  );\n};\n"],"names":["useState","searchFilms","setSearchFilms","films","setFilms","navigate","useNavigate","useSearchParams","searchParams","setSearchParams","useEffect","query","get","getSearchFilms","then","response","console","log","catch","error","data","results","length","replace","onSubmit","e","preventDefault","onChange","target","value","trim","map","to","id","title","name","getDayFilms","API","axios","getMovieDetails","paramsId","getCast","paramsCastId","getRew","paramsRewId"],"sourceRoot":""}